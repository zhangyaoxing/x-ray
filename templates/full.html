<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Check Results</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.8.1/github-markdown.min.css">
    </link>
    <script type="text/javascript">
        function createList(li_elms) {
            var ul = document.createElement('ul');
            for (var i = 0; i < li_elms.length; i++) {
                var li = document.createElement('li');
                var link = document.createElement('a');
                link.href = '#' + li_elms[i].id;
                link.textContent = li_elms[i].textContent;
                li.appendChild(link);
                ul.appendChild(li);
            }
            return ul;
        }
        window.onload = function () {
            var outline = document.getElementById('outline');
            var h2 = document.getElementsByTagName('h2');
            var ul = document.createElement('ul');
            for (var i = 0; i < h2.length; i++) {
                var li = document.createElement('li');
                var link = document.createElement('a');
                link.href = '#' + h2[i].id;
                link.textContent = h2[i].textContent;
                var children = [];
                for (var next = h2[i].nextElementSibling; next && next.tagName !== 'H2'; next = next.nextElementSibling) {
                    if (next.tagName === 'H3') {
                        children.push(next);
                    }
                }
                ul.appendChild(li);
                li.appendChild(link);
                li.appendChild(createList(children));
            }
            outline.appendChild(ul);
            expand = document.getElementById('expand-outline');
            collapse = document.getElementById('collapse-outline');
            collapse.onclick = function () {
                outline.getElementsByTagName('ul')[0].style.display = 'none';
                outline.getElementsByTagName('b')[0].style.display = 'none';
                expand.style.display = 'inline';
                collapse.style.display = 'none';
                return false;
            };
            expand.onclick = function () {
                outline.getElementsByTagName('ul')[0].style.display = 'block';
                outline.getElementsByTagName('b')[0].style.display = 'inline';
                expand.style.display = 'none';
                collapse.style.display = 'inline';
                return false;
            };
        };
    </script>
    <style>
        .markdown-body {
            box-sizing: border-box;
            min-width: 200px;
            max-width: 980px;
            margin: 0 auto 0 350px;
            padding: 45px;
        }
        @media(max-width:90%) {
            .markdown-body {
                padding: 15px;
            }
        }
        #outline {
            position: fixed;
            top: 10px;
            left: 10px;
            padding: 40px 0;
        }
    </style>
</head>
<body class="markdown-body">
    <div id="outline">
        <a href="#" id="collapse-outline">&#x25C0;</a>
        <b>Report Outline</b>
        <a href="#" style="display: none;" id="expand-outline">&#x25B6;</a>
    </div>
    {{ content }}
</body>
</html>